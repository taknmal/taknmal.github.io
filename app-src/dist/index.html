<!DOCTYPE html>
<html lang="en">
<head>
    <link rel='dns-prefetch' href='//youtube.com'/>
    <link rel='dns-prefetch' href='//youtube-nocookie.com'/>
    <link rel='preconnect' href='https://youtube.com'/>
    <link rel='preconnect' href='https://youtube-nocookie.com'/>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">

    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">

    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/icons/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/icons/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/icons/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/icons/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/icons/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/icons/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/icons/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/icons/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/icons/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/icons/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/icons/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/icons/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="mstile-310x310.png" />

    <link href="/splashscreens/launch-2048x1536.png" media="(device-width: 2048px) and (device-height: 1536px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2224x1668.png" media="(device-width: 2224px) and (device-height: 1668px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1334x750.png" media="(device-width: 1334px) and (device-height: 750px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2436x1125.png" media="(device-width: 2436px) and (device-height: 1125px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1792x828.png" media="(device-width: 1792px) and (device-height: 828px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1668x2388.png" media="(device-width: 1668px) and (device-height: 2388px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2732x2048.png" media="(device-width: 2732px) and (device-height: 2048px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-828x1792.png" media="(device-width: 828px) and (device-height: 1792px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1242x2688.png" media="(device-width: 1242px) and (device-height: 2688px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-640x1136.png" media="(device-width: 640px) and (device-height: 1136px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1125x2436.png" media="(device-width: 1125px) and (device-height: 2436px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2048x2732.png" media="(device-width: 2048px) and (device-height: 2732px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-750x1334.png" media="(device-width: 750px) and (device-height: 1334px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1136x640.png" media="(device-width: 1136px) and (device-height: 640px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2688x1242.png" media="(device-width: 2688px) and (device-height: 1242px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1536x2048.png" media="(device-width: 1536px) and (device-height: 2048px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2388x1668.png" media="(device-width: 2388px) and (device-height: 1668px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-2208x1242.png" media="(device-width: 2208px) and (device-height: 1242px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1668x2224.png" media="(device-width: 1668px) and (device-height: 2224px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />
<link href="/splashscreens/launch-1242x2208.png" media="(device-width: 1242px) and (device-height: 2208px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image" />


    <meta name="theme-color" content="white"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ÍTM">
    <link rel="manifest" href="/manifest.json"/>

    <link rel="stylesheet" href="style.css">
    <link href='https://fonts.googleapis.com/css?family=Faustina' rel='stylesheet'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <title>Íslenskt táknmál</title>
    <link rel="canonical" href="https://taknmal.github.io/" />
<script defer src="main.js"></script></head>
<body>
    <!-- <script>
        // register ServiceWorker, remember to use absolute path!
        if (navigator.serviceWorker) {
          navigator.serviceWorker.register('/sw.js', {scope: '/'})
        }
    </script> -->

    <article>
        <header>
          <span id="scrollArea"></span>
            <span class="heading">Íslenskt táknmál</span>

            <div class="sign-search all-signs">
                <input type="search" name="" id="search-input" placeholder="Search for a sign" oninput="updateSearch()" onchange="updateSearch()">
            </div>
        </header>
        
        <main class="container">
          <div class="search-results all-signs" id="results"></div>

          <div id="settings">
            <div class="row">
              <h1><span class="material-icons">settings</span> Stillingar</h1>
            </div>
            <form>
              <div class="row row-border">
                <span>Dark mode</span>
                <label class="switch">
                  <input type="checkbox">
                  <span class="slider round"></span>
                </label>
              </div>
            </form>
          </div>

          <div id="collections">

            <h1>Táknasöfn</h1>
            <div class="row row-border sign collection-row">
              <span class="collection-name">Öll tákn</span>
              <span class="collection-count">13.105</span>
            </div>

            <div class="row sign collection-row">
              <span class="collection-name">Þroskaþjálfafræði</span>
              <span class="collection-count">64</span>
            </div>

            <div class="row sign collection-row">
              <span class="collection-name">Vinna</span>
              <span class="collection-count">91</span>
            </div>

            <div class="row sign collection-row">
              <span class="collection-name">Matur</span>
              <span class="collection-count">78</span>
            </div>
          </div>
        </main>
          
          <footer>
            <nav>
              <a class="nav-item" href="/#"><span class="material-icons">home</span><span>Heim</span></a>
              <a class="nav-item" href="/#allsigns"><span class="material-icons">search</span><span>Öll tákn</span></a>
              <a class="nav-item" href="/#collections"><span class="material-icons">list</span><span>Táknasöfn</span></a>
              <a class="nav-item" href="/#settings"><span class="material-icons">settings</span><span>Stillingar</span></a>
            </nav>
          </footer>
    </article>

</body>
<script>
function updateSearch(){
  console.log('update')
  if(!window.worker){
    setTimeout(updateSearch, 150)
    return
  }
  let inp = document.querySelector('#search-input')
  window.worker.postMessage({type:'searchValue',searchValue:inp.value})
}
window.updateSearch = updateSearch

async function showYoutube(el){       
  let removed = false
  for(let child of el.children){
      if(child.classList.contains('sign-video')){
          el.classList.remove('selected')
          console.log(child.classList)
          el.removeChild(child)
          removed = true
      }
  }
  if(!removed){
      el.classList.add('selected')
      let yt_id = el.attributes['youtube_id'].nodeValue
      let youtubeElement = document.createElement('div')
      youtubeElement.classList.add('sign-video')
      youtubeElement.setAttribute("display", "inline-block");
      youtubeEmbedUrl = `https://www.youtube.com/embed/${yt_id}?autoplay=1&loop=1&rel=0&controls=0&mute=1&playsinline=0&playlist=${yt_id}`
      fetch(youtubeEmbedUrl, {mode:'no-cors'}).then(res => {
          const iframe = document.createElement("iframe");
          iframe.setAttribute("src", youtubeEmbedUrl);
          iframe.allowFullscreen = true;
          youtubeElement.appendChild(iframe)
      })
      el.appendChild(youtubeElement)

  }
}
// updateSearch()
</script>



<script>
  let heading = document.querySelector('.heading')
  let searchInput = document.querySelector('.sign-search')
  let containerDiv = document.querySelector('.container')
  let resultsDiv = document.querySelector('#results')
  let settingsDiv = document.querySelector('#settings')
  let collectionsDiv = document.querySelector('#collections')
  
  heading.addEventListener('click',() => {
    containerDiv.scroll({behavior:'smooth',top:0})
  })

  function collectionsPage(){
    searchInput.style.visibility = 'hidden'
    searchInput.style.display = 'none'
    resultsDiv.style.display = 'none'
    settingsDiv.style.display = 'none'
    settingsDiv.style.visibility = 'hidden'
    collectionsDiv.style.visibility = ''
    collectionsDiv.style.display = ''
  }

  function indexPage(){
    searchInput.style.visibility = 'hidden'
    searchInput.style.display = 'none'
    resultsDiv.style.visibility = 'hidden'
    settingsDiv.style.display = 'none'
    collectionsDiv.style.visibility = 'hidden'
    collectionsDiv.style.display = 'none'
  }

  function allSignsPage(){
    results.style.visibility = ''
    results.style.display = ''
    searchInput.style.visibility = ''
    searchInput.style.display = ''
    settingsDiv.style.display = 'none'
    collectionsDiv.style.visibility = 'hidden'
    collectionsDiv.style.display = 'none'
    updateSearch()
  }

  function settingsPage(){
    searchInput.style.visibility = 'hidden'
    searchInput.style.display = 'none'
    resultsDiv.style.display = 'none'
    settingsDiv.style.display = ''
    settingsDiv.style.visibility = ''
    collectionsDiv.style.visibility = 'hidden'
    collectionsDiv.style.display = 'none'
  }


  function handleHashUrl(){
    switch(location.hash){
      case '#':
        // console.log('collections');
        indexPage();
        break;
      case '':
        console.log('index');
        indexPage();
        break;
      case '#allsigns':
        allSignsPage();
        break;
      case '#settings':
        settingsPage();
        break;
      case '#collections':
        collectionsPage();
        break;
      default:
        console.log(location.hash);

        break;
    }
  }

  window.addEventListener('hashchange',handleHashUrl)
  handleHashUrl()
  // searchInput.style.display = 'none'
</script>

<!-- <script async defer src="main.js"></script> -->
</html>